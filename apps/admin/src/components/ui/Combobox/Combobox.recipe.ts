import {comboboxAnatomy} from '@ark-ui/react/combobox';
import {tv} from 'tailwind-variants';
import {anatomyToRecipeSlots} from '~/utils/anatomyToRecipeSlots';

export const comboboxRecipe = tv({
	slots: anatomyToRecipeSlots(comboboxAnatomy, {
		control: [
			'flex',
			'border',
			'grow',
			'bg-neutral-900',
			'rounded-lg',
			'ui-invalid:border-red-400',
			'ui-invalid:focus-within:outline-red-400',
			'focus-within:outline-2',
			'focus-within:outline-solid',
			'focus-within:outline-blue-600',
			'focus-within:-outline-offset-1',
		],
		input: 'h-11 grow pl-4 outline-none',
		trigger: [
			'size-11',
			'shrink-0',
			'flex',
			'shrink-0',
			'items-center',
			'justify-center',
			'icon:size-5',
			'icon:text-neutral-300',
			'icon:transition-transform',
			'icon:duration-300',
			'ui-open:icon:rotate-180',
			'ui-closed:icon:rotate-0',
		],
		clearTrigger: [
			'size-11',
			'border',
			'rounded-lg',
			'shrink-0',
			'flex',
			'items-center',
			'justify-center',
			'icon:size-5',
			'icon:text-neutral-300',
		],
		positioner: 'z-dropdown',
		content: [
			'z-dropdown',
			'max-h-(--available-height)',
			'overflow-y-auto',
			'rounded-lg',
			'border',
			'border-neutral-700',
			'bg-neutral-800',
			'focus-visible:outline-2',
			'focus-visible:outline-offset-2',
			'focus-visible:outline-white/50',
			'p-1',

			'ui-placement-bottom:ui-open:animate-popover-in-bottom',
			'ui-placement-bottom-start:ui-open:animate-popover-in-bottom',
			'ui-placement-bottom-end:ui-open:animate-popover-in-bottom',
			'ui-placement-bottom:ui-closed:animate-popover-out-bottom',
			'ui-placement-bottom-start:ui-closed:animate-popover-out-bottom',
			'ui-placement-bottom-end:ui-closed:animate-popover-out-bottom',

			'ui-placement-top:ui-open:animate-popover-in-top',
			'ui-placement-top-start:ui-open:animate-popover-in-top',
			'ui-placement-top-end:ui-open:animate-popover-in-top',
			'ui-placement-top:ui-closed:animate-popover-out-top',
			'ui-placement-top-start:ui-closed:animate-popover-out-top',
			'ui-placement-top-end:ui-closed:animate-popover-out-top',

			'ui-placement-left:ui-open:animate-popover-in-left',
			'ui-placement-left-start:ui-open:animate-popover-in-left',
			'ui-placement-left-end:ui-open:animate-popover-in-left',
			'ui-placement-left:ui-closed:animate-popover-out-left',
			'ui-placement-left-start:ui-closed:animate-popover-out-left',
			'ui-placement-left-end:ui-closed:animate-popover-out-left',

			'ui-placement-right:ui-open:animate-popover-in-right',
			'ui-placement-right-start:ui-open:animate-popover-in-right',
			'ui-placement-right-end:ui-open:animate-popover-in-right',
			'ui-placement-right:ui-closed:animate-popover-out-right',
			'ui-placement-right-start:ui-closed:animate-popover-out-right',
			'ui-placement-right-end:ui-closed:animate-popover-out-right',
		],
		item: [
			'flex',
			'w-full',
			'cursor-pointer',
			'items-center',
			'gap-2',
			'rounded-md',
			'px-3',
			'py-2',
			'text-sm',
			'text-neutral-300',
			'transition-colors',
			'duration-200',
			'ui-disabled:cursor-not-allowed',
			'ui-disabled:opacity-65',
			'ui-highlighted:bg-neutral-700/25',
			'icon:size-4',
			'icon:text-neutral-300',
		],
		itemText: 'grow',
		itemIndicator: 'flex size-5 text-blue-500!',
	}),
});
